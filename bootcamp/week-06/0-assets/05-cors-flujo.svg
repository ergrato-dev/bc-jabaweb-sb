<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 650">
    <defs>
        <marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#10b981" />
        </marker>
        <marker id="arrowred" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444" />
        </marker>
    </defs>

    <!-- Background -->
    <rect width="900" height="650" fill="#1a1a2e" />

    <!-- Title -->
    <text x="450" y="40" font-family="system-ui, sans-serif" font-size="24" font-weight="bold"
        fill="#ffffff" text-anchor="middle">CORS (Cross-Origin Resource Sharing)</text>
    <text x="450" y="65" font-family="system-ui, sans-serif" font-size="14" fill="#94a3b8"
        text-anchor="middle">Flujo de solicitudes entre diferentes orígenes</text>

    <!-- Browser (Frontend) -->
    <rect x="50" y="100" width="250" height="200" rx="10" fill="#16213e" stroke="#3b82f6"
        stroke-width="2" />
    <text x="175" y="130" font-family="system-ui, sans-serif" font-size="16" font-weight="bold"
        fill="#3b82f6" text-anchor="middle">Frontend (Browser)</text>
    <text x="175" y="155" font-family="monospace" font-size="12" fill="#f59e0b" text-anchor="middle">
        http://localhost:3000</text>
    <rect x="70" y="170" width="210" height="50" rx="6" fill="#1e3a5f" />
    <text x="90" y="195" font-family="monospace" font-size="11" fill="#e2e8f0">fetch('/api/tasks')</text>
    <text x="90" y="212" font-family="monospace" font-size="10" fill="#94a3b8">Origin:
        localhost:3000</text>
    <rect x="70" y="235" width="210" height="50" rx="6" fill="#1e3a5f" />
    <text x="90" y="260" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">React,
        Angular, Vue...</text>
    <text x="90" y="275" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">JavaScript
        Application</text>

    <!-- API Server -->
    <rect x="600" y="100" width="250" height="200" rx="10" fill="#16213e" stroke="#10b981"
        stroke-width="2" />
    <text x="725" y="130" font-family="system-ui, sans-serif" font-size="16" font-weight="bold"
        fill="#10b981" text-anchor="middle">Backend (API)</text>
    <text x="725" y="155" font-family="monospace" font-size="12" fill="#f59e0b" text-anchor="middle">
        http://localhost:8080</text>
    <rect x="620" y="170" width="210" height="50" rx="6" fill="#1e3a5f" />
    <text x="640" y="195" font-family="system-ui, sans-serif" font-size="11" fill="#e2e8f0">Spring
        Boot API</text>
    <text x="640" y="212" font-family="monospace" font-size="10" fill="#94a3b8">/api/v1/tasks</text>
    <rect x="620" y="235" width="210" height="50" rx="6" fill="#0f4c3a" />
    <text x="640" y="260" font-family="system-ui, sans-serif" font-size="11" fill="#10b981">CORS
        Configuration</text>
    <text x="640" y="275" font-family="monospace" font-size="10" fill="#94a3b8">@CrossOrigin /
        WebMvcConfigurer</text>

    <!-- Preflight Request -->
    <rect x="50" y="330" width="800" height="130" rx="10" fill="#16213e" stroke="#f59e0b"
        stroke-width="2" />
    <text x="70" y="355" font-family="system-ui, sans-serif" font-size="14" font-weight="bold"
        fill="#f59e0b">Preflight Request (OPTIONS)</text>
    <text x="70" y="380" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8">Para
        métodos PUT, DELETE, PATCH o headers personalizados</text>

    <!-- Preflight Request Arrow -->
    <line x1="175" y1="400" x2="715" y2="400" stroke="#f59e0b" stroke-width="2"
        stroke-dasharray="5,5" marker-end="url(#arrowhead3)" />
    <text x="400" y="395" font-family="monospace" font-size="10" fill="#f59e0b" text-anchor="middle">OPTIONS
        /api/tasks</text>
    <text x="400" y="410" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">Access-Control-Request-Method:
        POST</text>

    <!-- Preflight Response Arrow -->
    <line x1="715" y1="435" x2="175" y2="435" stroke="#10b981" stroke-width="2"
        stroke-dasharray="5,5" marker-end="url(#arrowhead3)" />
    <text x="400" y="430" font-family="monospace" font-size="10" fill="#10b981" text-anchor="middle">200
        OK</text>
    <text x="400" y="445" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">Access-Control-Allow-Origin:
        http://localhost:3000</text>

    <!-- Actual Request -->
    <rect x="50" y="480" width="800" height="150" rx="10" fill="#16213e" stroke="#10b981"
        stroke-width="2" />
    <text x="70" y="505" font-family="system-ui, sans-serif" font-size="14" font-weight="bold"
        fill="#10b981">Actual Request</text>

    <!-- Request Arrow -->
    <line x1="175" y1="530" x2="715" y2="530" stroke="#3b82f6" stroke-width="2"
        marker-end="url(#arrowhead3)" />
    <text x="400" y="525" font-family="monospace" font-size="10" fill="#3b82f6" text-anchor="middle">POST
        /api/tasks</text>
    <text x="400" y="540" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">Origin:
        http://localhost:3000</text>

    <!-- Response Arrow -->
    <line x1="715" y1="575" x2="175" y2="575" stroke="#10b981" stroke-width="2"
        marker-end="url(#arrowhead3)" />
    <text x="400" y="565" font-family="monospace" font-size="10" fill="#10b981" text-anchor="middle">201
        Created</text>
    <text x="400" y="585" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">Access-Control-Allow-Origin:
        http://localhost:3000</text>

    <!-- CORS Headers Box -->
    <rect x="620" y="495" width="210" height="120" rx="6" fill="#1e3a5f" />
    <text x="640" y="515" font-family="system-ui, sans-serif" font-size="11" font-weight="bold"
        fill="#ffffff">Response Headers:</text>
    <text x="640" y="535" font-family="monospace" font-size="9" fill="#10b981">
        Access-Control-Allow-Origin</text>
    <text x="640" y="550" font-family="monospace" font-size="9" fill="#10b981">
        Access-Control-Allow-Methods</text>
    <text x="640" y="565" font-family="monospace" font-size="9" fill="#10b981">
        Access-Control-Allow-Headers</text>
    <text x="640" y="580" font-family="monospace" font-size="9" fill="#10b981">
        Access-Control-Max-Age</text>
    <text x="640" y="595" font-family="monospace" font-size="9" fill="#10b981">
        Access-Control-Allow-Credentials</text>
</svg>
