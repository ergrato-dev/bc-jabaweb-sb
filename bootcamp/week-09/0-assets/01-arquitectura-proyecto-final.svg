<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
    <rect width="800" height="600" fill="#1a1a2e" />

    <text x="400" y="40" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="24" font-weight="bold">Arquitectura del Proyecto Final</text>

    <!-- Docker Container Box -->
    <rect x="50" y="70" width="700" height="500" rx="10" fill="none" stroke="#0db7ed"
        stroke-width="2" stroke-dasharray="5,5" />
    <text x="70" y="95" fill="#0db7ed" font-family="Arial, sans-serif" font-size="14">Docker Compose
        Stack</text>

    <!-- Nginx -->
    <rect x="80" y="120" width="120" height="80" rx="8" fill="#009639" />
    <text x="140" y="155" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="12" font-weight="bold">Nginx</text>
    <text x="140" y="175" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="10">(Proxy)</text>
    <text x="140" y="190" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif"
        font-size="10">:80</text>

    <!-- Spring Boot App -->
    <rect x="250" y="120" width="200" height="80" rx="8" fill="#6db33f" />
    <text x="350" y="155" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="12" font-weight="bold">Spring Boot</text>
    <text x="350" y="175" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="10">API REST + JWT</text>
    <text x="350" y="190" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif"
        font-size="10">:8080</text>

    <!-- PostgreSQL -->
    <rect x="500" y="120" width="120" height="80" rx="8" fill="#336791" />
    <text x="560" y="155" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="12" font-weight="bold">PostgreSQL</text>
    <text x="560" y="175" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="10">Database</text>
    <text x="560" y="190" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif"
        font-size="10">:5432</text>

    <!-- PgAdmin -->
    <rect x="660" y="120" width="80" height="80" rx="8" fill="#1868ab" />
    <text x="700" y="155" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="10" font-weight="bold">PgAdmin</text>
    <text x="700" y="175" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif"
        font-size="9">:5050</text>

    <!-- Arrows between services -->
    <path d="M200 160 L250 160" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />
    <path d="M450 160 L500 160" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />
    <path d="M620 160 L660 160" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />

    <!-- Arrow marker -->
    <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"
            markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#ffffff" />
        </marker>
    </defs>

    <!-- Spring Boot Internal Architecture -->
    <rect x="100" y="230" width="600" height="320" rx="8" fill="#2d3748" />
    <text x="120" y="255" fill="#6db33f" font-family="Arial, sans-serif" font-size="14"
        font-weight="bold">Spring Boot Application</text>

    <!-- Security Layer -->
    <rect x="120" y="270" width="560" height="40" rx="5" fill="#e53e3e" />
    <text x="400" y="295" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="12" font-weight="bold">üîê Security Layer (JWT Authentication)</text>

    <!-- Controllers -->
    <rect x="120" y="330" width="170" height="60" rx="5" fill="#4299e1" />
    <text x="205" y="355" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">AuthController</text>
    <text x="205" y="375" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="9">/api/auth/*</text>

    <rect x="310" y="330" width="170" height="60" rx="5" fill="#4299e1" />
    <text x="395" y="355" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">ProductController</text>
    <text x="395" y="375" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="9">/api/products/*</text>

    <rect x="500" y="330" width="170" height="60" rx="5" fill="#4299e1" />
    <text x="585" y="355" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">OrderController</text>
    <text x="585" y="375" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="9">/api/orders/*</text>

    <!-- Services -->
    <rect x="120" y="410" width="170" height="50" rx="5" fill="#48bb78" />
    <text x="205" y="440" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">AuthService</text>

    <rect x="310" y="410" width="170" height="50" rx="5" fill="#48bb78" />
    <text x="395" y="440" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">ProductService</text>

    <rect x="500" y="410" width="170" height="50" rx="5" fill="#48bb78" />
    <text x="585" y="440" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">OrderService</text>

    <!-- Repositories -->
    <rect x="120" y="480" width="170" height="50" rx="5" fill="#ed8936" />
    <text x="205" y="510" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">UserRepository</text>

    <rect x="310" y="480" width="170" height="50" rx="5" fill="#ed8936" />
    <text x="395" y="510" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">ProductRepository</text>

    <rect x="500" y="480" width="170" height="50" rx="5" fill="#ed8936" />
    <text x="585" y="510" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif"
        font-size="11" font-weight="bold">OrderRepository</text>

    <!-- Vertical arrows -->
    <path d="M205 390 L205 410" stroke="#ffffff" stroke-width="1" />
    <path d="M395 390 L395 410" stroke="#ffffff" stroke-width="1" />
    <path d="M585 390 L585 410" stroke="#ffffff" stroke-width="1" />

    <path d="M205 460 L205 480" stroke="#ffffff" stroke-width="1" />
    <path d="M395 460 L395 480" stroke="#ffffff" stroke-width="1" />
    <path d="M585 460 L585 480" stroke="#ffffff" stroke-width="1" />
</svg>
