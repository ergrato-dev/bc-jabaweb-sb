<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
    <defs>
        <style>
            .title { font: bold 24px 'Segoe UI', sans-serif; fill: #4fc3f7; }
            .layer-title { font: bold 16px 'Segoe UI', sans-serif; fill: #fff; }
            .layer-desc { font: 13px 'Segoe UI', sans-serif; fill: #b0bec5; }
            .arrow { stroke: #4fc3f7; stroke-width: 2; fill: none; }
            .arrow-head { fill: #4fc3f7; }
            .annotation { font: italic 12px 'Segoe UI', sans-serif; fill: #78909c; }
        </style>
    </defs>

    <!-- Background -->
    <rect width="800" height="600" fill="#1e1e1e" />

    <!-- Title -->
    <text x="400" y="40" text-anchor="middle" class="title">Arquitectura en Capas - Spring Boot</text>

    <!-- Client Layer -->
    <rect x="200" y="70" width="400" height="50" rx="8" fill="#37474f" />
    <text x="400" y="100" text-anchor="middle" class="layer-title">üåê Cliente (Browser / App)</text>

    <!-- Arrow Client to Controller -->
    <line x1="400" y1="120" x2="400" y2="150" class="arrow" />
    <polygon points="400,160 395,150 405,150" class="arrow-head" />
    <text x="430" y="145" class="annotation">HTTP Request</text>

    <!-- Controller Layer -->
    <rect x="150" y="160" width="500" height="100" rx="8" fill="#0d47a1" />
    <text x="400" y="190" text-anchor="middle" class="layer-title">üì• CONTROLLER (Presentaci√≥n)</text>
    <text x="400" y="215" text-anchor="middle" class="layer-desc">@RestController ‚Ä¢ @RequestMapping</text>
    <text x="400" y="235" text-anchor="middle" class="layer-desc">Recibe HTTP ‚Ä¢ Valida @Valid ‚Ä¢
        Retorna ResponseEntity</text>

    <!-- Annotations Controller -->
    <rect x="50" y="170" width="90" height="25" rx="4" fill="#263238" />
    <text x="95" y="188" text-anchor="middle" class="annotation">@Valid</text>
    <rect x="50" y="200" width="90" height="25" rx="4" fill="#263238" />
    <text x="95" y="218" text-anchor="middle" class="annotation">DTOs</text>

    <!-- Arrow Controller to Service -->
    <line x1="400" y1="260" x2="400" y2="290" class="arrow" />
    <polygon points="400,300 395,290 405,290" class="arrow-head" />
    <text x="430" y="285" class="annotation">TaskRequest</text>

    <!-- Service Layer -->
    <rect x="150" y="300" width="500" height="100" rx="8" fill="#1565c0" />
    <text x="400" y="330" text-anchor="middle" class="layer-title">‚öôÔ∏è SERVICE (Negocio)</text>
    <text x="400" y="355" text-anchor="middle" class="layer-desc">@Service ‚Ä¢ Interface + Impl</text>
    <text x="400" y="375" text-anchor="middle" class="layer-desc">L√≥gica de negocio ‚Ä¢ Reglas ‚Ä¢
        Transacciones</text>

    <!-- Annotations Service -->
    <rect x="660" y="310" width="90" height="25" rx="4" fill="#263238" />
    <text x="705" y="328" text-anchor="middle" class="annotation">@Service</text>
    <rect x="660" y="340" width="90" height="25" rx="4" fill="#263238" />
    <text x="705" y="358" text-anchor="middle" class="annotation">@Transactional</text>

    <!-- Arrow Service to Repository -->
    <line x1="400" y1="400" x2="400" y2="430" class="arrow" />
    <polygon points="400,440 395,430 405,430" class="arrow-head" />
    <text x="430" y="425" class="annotation">Entity</text>

    <!-- Repository Layer -->
    <rect x="150" y="440" width="500" height="100" rx="8" fill="#1976d2" />
    <text x="400" y="470" text-anchor="middle" class="layer-title">üíæ REPOSITORY (Datos)</text>
    <text x="400" y="495" text-anchor="middle" class="layer-desc">@Repository ‚Ä¢ JpaRepository</text>
    <text x="400" y="515" text-anchor="middle" class="layer-desc">CRUD ‚Ä¢ Queries ‚Ä¢ Acceso a BD</text>

    <!-- Annotations Repository -->
    <rect x="50" y="450" width="90" height="25" rx="4" fill="#263238" />
    <text x="95" y="468" text-anchor="middle" class="annotation">@Repository</text>
    <rect x="50" y="480" width="90" height="25" rx="4" fill="#263238" />
    <text x="95" y="498" text-anchor="middle" class="annotation">JPA/Hibernate</text>

    <!-- Arrow to Database -->
    <line x1="400" y1="540" x2="400" y2="560" class="arrow" />
    <polygon points="400,570 395,560 405,560" class="arrow-head" />

    <!-- Database -->
    <ellipse cx="400" cy="585" rx="80" ry="15" fill="#37474f" />
    <rect x="320" y="570" width="160" height="20" fill="#37474f" />
    <text x="400" y="595" text-anchor="middle" class="layer-desc">üóÑÔ∏è Database</text>

    <!-- Legend -->
    <rect x="620" y="70" width="150" height="85" rx="6" fill="#263238" />
    <text x="695" y="90" text-anchor="middle" class="layer-desc" style="fill:#fff;">Flujo de datos</text>
    <line x1="640" y1="105" x2="680" y2="105" class="arrow" />
    <polygon points="690,105 680,100 680,110" class="arrow-head" />
    <text x="720" y="110" class="annotation">Request</text>
    <line x1="680" y1="130" x2="640" y2="130" class="arrow" />
    <polygon points="630,130 640,125 640,135" class="arrow-head" />
    <text x="720" y="135" class="annotation">Response</text>
</svg>
