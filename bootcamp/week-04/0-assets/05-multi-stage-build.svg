<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
    <defs>
        <marker id="arrowhead5" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#60A5FA" />
        </marker>
    </defs>

    <!-- Background -->
    <rect width="800" height="500" fill="#1a1a2e" />

    <!-- Title -->
    <text x="400" y="35" text-anchor="middle" fill="#E2E8F0" font-family="system-ui, sans-serif"
        font-size="20" font-weight="bold">Multi-stage Docker Build</text>

    <!-- Stage 1: Build -->
    <rect x="30" y="60" width="350" height="200" rx="8" fill="#16213e" stroke="#F97316"
        stroke-width="2" />
    <text x="205" y="90" text-anchor="middle" fill="#F97316" font-family="system-ui, sans-serif"
        font-size="16" font-weight="bold">Stage 1: BUILD</text>

    <rect x="50" y="105" width="310" height="140" rx="4" fill="#1a1a2e" stroke="#FB923C"
        stroke-width="1" />
    <text x="60" y="130" fill="#94A3B8" font-family="monospace" font-size="10"># Imagen con JDK +
        Maven (grande)</text>
    <text x="60" y="150" fill="#F472B6" font-family="monospace" font-size="11">FROM</text>
    <text x="100" y="150" fill="#60A5FA" font-family="monospace" font-size="11">
        maven:3.9-eclipse-temurin-21</text>
    <text x="60" y="175" fill="#F472B6" font-family="monospace" font-size="11">COPY</text>
    <text x="100" y="175" fill="#E2E8F0" font-family="monospace" font-size="11">. /app</text>
    <text x="60" y="200" fill="#F472B6" font-family="monospace" font-size="11">RUN</text>
    <text x="95" y="200" fill="#E2E8F0" font-family="monospace" font-size="11">mvn clean package
        -DskipTests</text>
    <text x="60" y="230" fill="#94A3B8" font-family="monospace" font-size="10"># Genera:
        target/app.jar</text>

    <!-- Size indicator Stage 1 -->
    <rect x="280" y="105" width="70" height="25" rx="4" fill="#dc2626" />
    <text x="315" y="122" text-anchor="middle" fill="#FFF" font-family="system-ui, sans-serif"
        font-size="10" font-weight="bold">~800 MB</text>

    <!-- Arrow -->
    <line x1="380" y1="160" x2="420" y2="160" stroke="#60A5FA" stroke-width="3"
        marker-end="url(#arrowhead5)" />
    <text x="400" y="145" text-anchor="middle" fill="#94A3B8" font-family="system-ui, sans-serif"
        font-size="10">Solo el</text>
    <text x="400" y="180" text-anchor="middle" fill="#22C55E" font-family="system-ui, sans-serif"
        font-size="10">.jar</text>

    <!-- Stage 2: Runtime -->
    <rect x="420" y="60" width="350" height="200" rx="8" fill="#16213e" stroke="#22C55E"
        stroke-width="2" />
    <text x="595" y="90" text-anchor="middle" fill="#22C55E" font-family="system-ui, sans-serif"
        font-size="16" font-weight="bold">Stage 2: RUNTIME</text>

    <rect x="440" y="105" width="310" height="140" rx="4" fill="#1a1a2e" stroke="#4ADE80"
        stroke-width="1" />
    <text x="450" y="130" fill="#94A3B8" font-family="monospace" font-size="10"># Imagen solo con
        JRE (pequeña)</text>
    <text x="450" y="150" fill="#F472B6" font-family="monospace" font-size="11">FROM</text>
    <text x="490" y="150" fill="#60A5FA" font-family="monospace" font-size="11">
        eclipse-temurin:21-jre-alpine</text>
    <text x="450" y="175" fill="#F472B6" font-family="monospace" font-size="11">COPY --from=</text>
    <text x="545" y="175" fill="#FBBF24" font-family="monospace" font-size="11">build</text>
    <text x="580" y="175" fill="#E2E8F0" font-family="monospace" font-size="11">/app/target/*.jar</text>
    <text x="450" y="200" fill="#F472B6" font-family="monospace" font-size="11">CMD</text>
    <text x="485" y="200" fill="#E2E8F0" font-family="monospace" font-size="11">["java", "-jar",
        "app.jar"]</text>
    <text x="450" y="230" fill="#94A3B8" font-family="monospace" font-size="10"># Solo lo necesario
        para ejecutar</text>

    <!-- Size indicator Stage 2 -->
    <rect x="670" y="105" width="70" height="25" rx="4" fill="#16a34a" />
    <text x="705" y="122" text-anchor="middle" fill="#FFF" font-family="system-ui, sans-serif"
        font-size="10" font-weight="bold">~180 MB</text>

    <!-- Comparison section -->
    <rect x="30" y="280" width="740" height="90" rx="8" fill="#16213e" stroke="#6366F1"
        stroke-width="2" />
    <text x="400" y="310" text-anchor="middle" fill="#A5B4FC" font-family="system-ui, sans-serif"
        font-size="14" font-weight="bold">Comparación de Tamaño de Imagen</text>

    <!-- Single stage bar -->
    <rect x="50" y="325" width="500" height="20" rx="4" fill="#dc2626" />
    <text x="60" y="340" fill="#FFF" font-family="system-ui, sans-serif" font-size="11">Single-stage
        (JDK + Maven + código fuente + dependencias)</text>
    <text x="560" y="340" fill="#FCA5A5" font-family="system-ui, sans-serif" font-size="11"
        font-weight="bold">~800 MB</text>

    <!-- Multi stage bar -->
    <rect x="50" y="350" width="112" height="20" rx="4" fill="#16a34a" />
    <text x="60" y="365" fill="#FFF" font-family="system-ui, sans-serif" font-size="11">Multi-stage</text>
    <text x="172" y="365" fill="#86EFAC" font-family="system-ui, sans-serif" font-size="11"
        font-weight="bold">~180 MB (-77%)</text>

    <!-- Benefits -->
    <rect x="30" y="390" width="740" height="90" rx="8" fill="#16213e" stroke="#8B5CF6"
        stroke-width="2" />
    <text x="400" y="415" text-anchor="middle" fill="#C4B5FD" font-family="system-ui, sans-serif"
        font-size="14" font-weight="bold">Beneficios de Multi-stage Build</text>

    <text x="60" y="440" fill="#A78BFA" font-family="system-ui, sans-serif" font-size="11">✓ Imagen
        final más pequeña (solo runtime)</text>
    <text x="300" y="440" fill="#A78BFA" font-family="system-ui, sans-serif" font-size="11">✓
        Despliegue más rápido</text>
    <text x="500" y="440" fill="#A78BFA" font-family="system-ui, sans-serif" font-size="11">✓ Menor
        superficie de ataque</text>

    <text x="60" y="465" fill="#A78BFA" font-family="system-ui, sans-serif" font-size="11">✓ Sin
        código fuente en producción</text>
    <text x="300" y="465" fill="#A78BFA" font-family="system-ui, sans-serif" font-size="11">✓ Sin
        herramientas de build</text>
    <text x="500" y="465" fill="#A78BFA" font-family="system-ui, sans-serif" font-size="11">✓ Mejor
        para CI/CD</text>
</svg>
